"use strict";
var ShoeModel = require("./shoe");
var Shoes = (function () {
    function Shoes(shoes) {
        if (shoes === void 0) { shoes = []; }
        var _this = this;
        this.shoesList = new Array();
        shoes.forEach(function (shoe) { return _this.shoesList.push(shoe); });
    }
    Shoes.prototype.list = function () {
        return this.shoesList;
    };
    Shoes.prototype.add = function (shoeName, shoeSize, shoeQuantity) {
        var shoeIds = this.shoesList.map(function (shoe) { return shoe.getId(); });
        var shoeId = Math.max.apply(Math, shoeIds) + 1;
        var shoe = new ShoeModel.Shoe(shoeId, shoeName, shoeSize, shoeQuantity);
        this.shoesList.push(shoe);
        return this.shoesList;
    };
    Shoes.prototype.delete = function (shoeId) {
        var deleted = false;
        this.shoesList = this.shoesList.filter(function (shoe) {
            deleted = deleted || shoe.getId() === shoeId;
            return shoe.getId() !== shoeId;
        });
        return deleted;
    };
    Shoes.prototype.fetch = function (shoeId) {
        return shoeId && this.shoesList.filter(function (product) { return product.getId() === shoeId; }).shift();
    };
    Shoes.prototype.find = function (shoeQuery) {
        var shoeId = parseInt(shoeQuery);
        shoeQuery = shoeQuery.toLowerCase();
        return this.shoesList.filter(function (shoe) { return shoe.getId() === shoeId
            || shoe.getName().toLowerCase() === shoeQuery; }).shift();
    };
    return Shoes;
}());
exports.Shoes = Shoes;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsL3Nob2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxrQ0FBbUM7QUFFbkM7SUFFSSxlQUFZLEtBQWlDO1FBQWpDLHNCQUFBLEVBQUEsVUFBaUM7UUFBN0MsaUJBS0M7UUFKRyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxFQUFrQixDQUFDO1FBQzdDLEtBQUssQ0FBQyxPQUFPLENBQ1QsVUFBQyxJQUFJLElBQUssT0FBQSxLQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBekIsQ0FBeUIsQ0FDdEMsQ0FBQztJQUNOLENBQUM7SUFDTSxvQkFBSSxHQUFYO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUNNLG1CQUFHLEdBQVYsVUFBVyxRQUFnQixFQUFFLFFBQWdCLEVBQUUsWUFBb0I7UUFFL0QsSUFBSSxPQUFPLEdBQWtCLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUMzQyxVQUFDLElBQUksSUFBSyxPQUFBLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBWixDQUFZLENBQ3pCLENBQUM7UUFDRixJQUFJLE1BQU0sR0FBVyxJQUFJLENBQUMsR0FBRyxPQUFSLElBQUksRUFBUSxPQUFPLElBQUksQ0FBQyxDQUFDO1FBRTlDLElBQUksSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUV4RSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBQ00sc0JBQU0sR0FBYixVQUFjLE1BQWM7UUFFMUIsSUFBSSxPQUFPLEdBQVksS0FBSyxDQUFDO1FBQzdCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQ3BDLFVBQUMsSUFBb0I7WUFDbkIsT0FBTyxHQUFHLE9BQU8sSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssTUFBTSxDQUFDO1lBQzdDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssTUFBTSxDQUFBO1FBQ2hDLENBQUMsQ0FDRixDQUFBO1FBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBQ00scUJBQUssR0FBWixVQUFhLE1BQWM7UUFDdkIsTUFBTSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FDbEMsVUFBQyxPQUF1QixJQUFLLE9BQUEsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLE1BQU0sRUFBMUIsQ0FBMEIsQ0FDMUQsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFDTSxvQkFBSSxHQUFYLFVBQVksU0FBaUI7UUFDM0IsSUFBSSxNQUFNLEdBQVcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pDLFNBQVMsR0FBRyxTQUFTLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDcEMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUN4QixVQUFDLElBQW9CLElBQUssT0FBQSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssTUFBTTtlQUM5QyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsV0FBVyxFQUFFLEtBQUssU0FBUyxFQURuQixDQUNtQixDQUNoRCxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUNMLFlBQUM7QUFBRCxDQS9DQSxBQStDQyxJQUFBO0FBL0NZLHNCQUFLIiwiZmlsZSI6Im1vZGVsL3Nob2VzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgU2hvZU1vZGVsIGZyb20gJy4vc2hvZSdcclxuXHJcbmV4cG9ydCBjbGFzcyBTaG9lcyB7XHJcbiAgICBwcml2YXRlIHNob2VzTGlzdDogQXJyYXk8U2hvZU1vZGVsLlNob2U+O1xyXG4gICAgY29uc3RydWN0b3Ioc2hvZXM6IEFycmF5PFNob2VNb2RlbC5TaG9lPiA9IFtdKSB7XHJcbiAgICAgICAgdGhpcy5zaG9lc0xpc3QgPSBuZXcgQXJyYXk8U2hvZU1vZGVsLlNob2U+KCk7XHJcbiAgICAgICAgc2hvZXMuZm9yRWFjaChcclxuICAgICAgICAgICAgKHNob2UpID0+IHRoaXMuc2hvZXNMaXN0LnB1c2goc2hvZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGxpc3QoKTogQXJyYXk8U2hvZU1vZGVsLlNob2U+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaG9lc0xpc3Q7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgYWRkKHNob2VOYW1lOiBzdHJpbmcsIHNob2VTaXplOiBudW1iZXIsIHNob2VRdWFudGl0eTogbnVtYmVyKTogQXJyYXk8U2hvZU1vZGVsLlNob2U+IHtcclxuXHJcbiAgICAgICAgbGV0IHNob2VJZHM6IEFycmF5PG51bWJlcj4gPSB0aGlzLnNob2VzTGlzdC5tYXAoXHJcbiAgICAgICAgICAgIChzaG9lKSA9PiBzaG9lLmdldElkKClcclxuICAgICAgICApO1xyXG4gICAgICAgIGxldCBzaG9lSWQ6IG51bWJlciA9IE1hdGgubWF4KC4uLnNob2VJZHMpICsgMTtcclxuXHJcbiAgICAgICAgbGV0IHNob2UgPSBuZXcgU2hvZU1vZGVsLlNob2Uoc2hvZUlkLCBzaG9lTmFtZSwgc2hvZVNpemUsIHNob2VRdWFudGl0eSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvZXNMaXN0LnB1c2goc2hvZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvZXNMaXN0O1xyXG4gICAgfVxyXG4gICAgcHVibGljIGRlbGV0ZShzaG9lSWQ6IG51bWJlcik6IEJvb2xlYW5cclxuICAgIHtcclxuICAgICAgbGV0IGRlbGV0ZWQ6IEJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgdGhpcy5zaG9lc0xpc3QgPSB0aGlzLnNob2VzTGlzdC5maWx0ZXIoXHJcbiAgICAgICAgKHNob2U6IFNob2VNb2RlbC5TaG9lKSA9PiB7XHJcbiAgICAgICAgICBkZWxldGVkID0gZGVsZXRlZCB8fCBzaG9lLmdldElkKCkgPT09IHNob2VJZDtcclxuICAgICAgICAgIHJldHVybiBzaG9lLmdldElkKCkgIT09IHNob2VJZFxyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgICByZXR1cm4gZGVsZXRlZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBmZXRjaChzaG9lSWQ6IG51bWJlcik6IFNob2VNb2RlbC5TaG9lIHtcclxuICAgICAgICByZXR1cm4gc2hvZUlkICYmIHRoaXMuc2hvZXNMaXN0LmZpbHRlcihcclxuICAgICAgICAgICAgKHByb2R1Y3Q6IFNob2VNb2RlbC5TaG9lKSA9PiBwcm9kdWN0LmdldElkKCkgPT09IHNob2VJZFxyXG4gICAgICAgICkuc2hpZnQoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBmaW5kKHNob2VRdWVyeTogc3RyaW5nKTogU2hvZU1vZGVsLlNob2Uge1xyXG4gICAgICBsZXQgc2hvZUlkOiBudW1iZXIgPSBwYXJzZUludChzaG9lUXVlcnkpO1xyXG4gICAgICBzaG9lUXVlcnkgPSBzaG9lUXVlcnkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgcmV0dXJuIHRoaXMuc2hvZXNMaXN0LmZpbHRlcihcclxuICAgICAgICAgIChzaG9lOiBTaG9lTW9kZWwuU2hvZSkgPT4gc2hvZS5nZXRJZCgpID09PSBzaG9lSWRcclxuICAgICAgICAgIHx8IHNob2UuZ2V0TmFtZSgpLnRvTG93ZXJDYXNlKCkgPT09IHNob2VRdWVyeVxyXG4gICAgICApLnNoaWZ0KCk7XHJcbiAgICB9XHJcbn0iXX0=
